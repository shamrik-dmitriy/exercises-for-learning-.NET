Попробуйте симитировать наследование и переопределение виртуального метода в
структурах.